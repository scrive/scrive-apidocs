---
$schema: "http://json-schema.org/draft-04/schema#"
title: Signatory
type: object
description: |
 A signatory defines the details and process for each signing or non-signing
 party to a document.
properties:
  id:
    description: |
      **Unique identifier for a party.**

      Will not change over time, and cannot be changed.
    type: string
    readOnly: true
  user_id:
    description: |
      If this party has an account on the Scrive eSign system, it will be set
      here.
    type: integer
    format: int64
    readOnly: true
  is_author:
    description: Whether this party is the author of the document.
    type: boolean
    readOnly: true
  is_signatory:
    description: |
      Whether this party is a signatory to the document, otherwise they are
      viewers and will not sign the document.
    type: boolean
  fields:
    description: |
      The object properties for Signatory `fields` in this definition are only
      the ones common to all signatory fields.

      **Note:**
      A valid definition must be one of the concrete types (e.g.
      `SignatoryFieldCheckbox`).
    type: array
    items:
      $ref: ./SignatoryField.yaml
  sign_order:
    type: integer
    default: 1
  sign_time:
    type: string
    format: date-time
    readOnly: true
  seen_time:
    type: string
    format: date-time
    readOnly: true
  read_invitation_time:
    type: string
    format: date-time
    readOnly: true
  rejected_time:
    type: string
    format: date-time
    readOnly: true
  sign_success_redirect_url:
    description: |
      The URL to redirect this party after they have signed the document.
    type: string
    format: uri
  reject_redirect_url:
    description: |
      The URL to redirect this party if they reject the document.
    type: string
    format: uri
  email_delivery_status:
    $ref: ./SignatoryDeliveryStatus.yaml
  mobile_delivery_status:
    $ref: ./SignatoryDeliveryStatus.yaml
  csv:
    type: array
    items:
      type: array
      items:
        type: string
  delivery_method:
    type: string
    default: email
    enum:
      - email
      - mobile
      - email_mobile
      - pad
      - api
  authentication_method_to_view:
    type: string
    default: standard
    enum:
      - standard
      - se_bankid
      - no_bankid
      - dk_nemid
  authentication_method_to_sign:
    type: string
    default: standard
    enum:
      - standard
      - sms_pin
      - se_bankid
  confirmation_delivery_method:
    type: string
    default: email
    enum:
      - email
      - mobile
      - email_mobile
      - none
  allows_highlighting:
    type: boolean
    default: false
    description: |
      Whether the signatory can highlight pages of the PDF when viewing the
      signing page.

      If any highlights are performed, the evidence log states that they were
      performed while the signatory was viewing the document.

      The intention of this feature is **not** for the signatory to affect a
      contract via highlighting, but simply for a point-of-sale situation to
      assist contract review.
  highlighted_pages:
    type: array
    default: []
    readOnly: true
    description: |
      A list of highlights performed by the signatory.

      While a document is pending, highlights may be added, but will not appear
      in the document file PDF until after the document is closed.
    items:
      type: object
      properties:
        page:
          type: integer
          description: |
            The page number which is highlighted (starts from `1`).
            Each signatory can only have one highlight per page.
        file_id:
          type: string
          description: |
            The `file_id` for an image of the highlights.

            The image dimensions will fit the ratio of the PDF page, and will be
            of a fixed colour and transparency.

            This will be integrated into the final PDF once the document is
            closed.
  attachments:
    type: array
    default: []
    items:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        file_id:
          type: string
        file_name:
          type: string
  api_delivery_url:
    description: |
      If the `delivery_method` is set to `api`, then this field will hold the
      relative URL for the party.

      This will only be available after the signing process has been started,
      and will only be visible when accessing the document as the author.
    type: string
    format: uri
example:
  {
    "id": "189256",
    "user_id": null,
    "is_author": false,
    "is_signatory": true,
    "fields": [
      {
        "type": "name",
        "order": 1,
        "value": "Magnus",
        "is_obligatory": true,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "name",
        "order": 2,
        "value": "SÃ¶derholm",
        "is_obligatory": true,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "email",
        "value": "noemail@scrive.com",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "mobile",
        "value": "",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "company",
        "value": "Scrive",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "company_number",
        "value": "",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "signature",
        "name": "Signature 1",
        "signature": "195174",
        "is_obligatory": true,
        "should_be_filled_by_sender": false,
        "placements": [
          {
            "xrel": 0.07894736842105263,
            "yrel": 0.09962825278810408,
            "wrel": 0.2736842105263158,
            "hrel": 0.0758364312267658,
            "fsrel": 0.0168,
            "page": 1,
            "tip": "right",
            "anchors": []
          }
        ]
      }
    ],
    "sign_order": 1,
    "sign_time": "2017-01-13T10:38:49.590815Z",
    "seen_time": "2017-01-13T10:38:33.1783Z",
    "read_invitation_time": null,
    "rejected_time": null,
    "sign_success_redirect_url": null,
    "reject_redirect_url": null,
    "email_delivery_status": "unknown",
    "mobile_delivery_status": "unknown",
    "has_authenticated_to_view": false,
    "csv": null,
    "delivery_method": "pad",
    "authentication_method_to_view": "standard",
    "authentication_method_to_sign": "standard",
    "confirmation_delivery_method": "none",
    "allows_highlighting": true,
    "attachments": [],
    "highlighted_pages": [
      {
        "page": 1,
        "file_id": "195173"
      }
    ],
    "api_delivery_url": null
  }
