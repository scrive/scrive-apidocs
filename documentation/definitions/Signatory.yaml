---
$schema: "http://json-schema.org/draft-04/schema#"
title: Signatory
type: object
description: |
 A signatory defines the details and process for each signing or non-signing
 party to a document.
properties:
  id:
    description: |
      **Unique identifier for a party.**

      Will not change over time, and cannot be changed.
    type: string
    readOnly: true
  user_id:
    description: |
      If this party has an account on the Scrive eSign system, it will be set
      here.
    type: integer
    format: int64
    readOnly: true
  is_author:
    description: Whether this party is the author of the document.
    type: boolean
    readOnly: true
  is_signatory:
    description: |
      Whether this party is a signatory to the document, otherwise they are
      viewers and will not sign the document.
    type: boolean
  fields:
    description: |
      The signatory fields represent information requested from, or information
      about, the signatory.
      There are different types of fields, and the array can contain multiple
      instances of the same type.

      Currently, Scrive supports the following field types:
      * `SignatoryFieldName`: First and last name of the signatory.
      * `SignatoryFieldSignature`: A signature box placed on the document, for
        the signatory to draw their signature.
      * `SignatoryFieldStandard`: Company name and number, email, mobile
        number, and personal number (AKA social security number).
      * `SignatoryFieldCheckbox`: Checkboxes of varying sizes.
      * `SignatoryFieldCustomText`: A text field for any other information
        about, or requested, from the signatory.

      Please read the detailed definition of each field type for more
      information.
      New field types may be added at any point to extend Scrive eSign features.

      Fields can have `placements`, which define where on the document they
      will appear.
      Similarly, a single field can have multiple placements on the document.

      **Note:** Some field types have _no effect_ without at least one placement.
    type: array
    items:
      anyOf:
        - $ref: ./SignatoryFieldName.yaml
        - $ref: ./SignatoryFieldSignature.yaml
        - $ref: ./SignatoryFieldStandard.yaml
        - $ref: ./SignatoryFieldCheckbox.yaml
        - $ref: ./SignatoryFieldCustomText.yaml
  sign_order:
    type: integer
    default: 1
  sign_time:
    type: string
    format: date-time
    readOnly: true
  seen_time:
    type: string
    format: date-time
    readOnly: true
  read_invitation_time:
    type: string
    format: date-time
    readOnly: true
  rejected_time:
    type: string
    format: date-time
    readOnly: true
  sign_success_redirect_url:
    description: |
      The URL to redirect this party after they have signed the document.
    type: string
    format: uri
  reject_redirect_url:
    description: |
      The URL to redirect this party if they reject the document.
    type: string
    format: uri
  email_delivery_status:
    $ref: ./SignatoryDeliveryStatus.yaml
  mobile_delivery_status:
    $ref: ./SignatoryDeliveryStatus.yaml
  csv:
    type: array
    items:
      type: array
      items:
        type: string
  delivery_method:
    type: string
    default: email
    enum:
      - email
      - mobile
      - email_mobile
      - pad
      - api
  authentication_method_to_view:
    type: string
    default: standard
    enum:
      - standard
      - se_bankid
      - no_bankid
      - dk_nemid
  authentication_method_to_sign:
    type: string
    default: standard
    enum:
      - standard
      - sms_pin
      - se_bankid
  confirmation_delivery_method:
    type: string
    default: email
    enum:
      - email
      - mobile
      - email_mobile
      - none
  allows_highlighting:
    type: boolean
    default: false
    description: |
      Whether the signatory can highlight pages of the PDF when viewing the
      signing page.

      If any highlights are performed, the evidence log states that they were
      performed while the signatory was viewing the document.

      The intention of this feature is **not** for the signatory to affect a
      contract via highlighting, but simply for a point-of-sale situation to
      assist contract review.
  highlighted_pages:
    type: array
    default: []
    readOnly: true
    description: |
      A list of highlights performed by the signatory.

      While a document is pending, highlights may be added, but will not appear
      in the document file PDF until after the document is closed.
    items:
      type: object
      properties:
        page:
          type: integer
          description: |
            The page number which is highlighted (starts from `1`).
            Each signatory can only have one highlight per page.
        file_id:
          type: string
          description: |
            The `file_id` for an image of the highlights.

            The image dimensions will fit the ratio of the PDF page, and will be
            of a fixed colour and transparency.

            This will be integrated into the final PDF once the document is
            closed.
  attachments:
    type: array
    default: []
    items:
      type: object
      description: |
        An attachment requested from the signing party.
        Attachments requested from viewing only parties have no effect.
      properties:
        name:
          type: string
          description: |
            A name for the requested attachment.
            Will be visible to the signatory when signing the document.
        description:
          type: string
          description: |
            A description for the requested attachment.
            Will be visible to the signatory when signing the document alongside
            the attachment name.
        required:
          type: boolean
          default: true
          description: |
            Whether the signatory must upload this attachment.
            If `false`, the signatory may choose not to upload this attachment
            when signing.
        file_id:
          type: string
          description: |
            Will be present if and when the party uploads this attachment.
        file_name:
          type: string
          description: |
            Will be present if and when the party uploads this attachment.
  api_delivery_url:
    description: |
      If the `delivery_method` is set to `api`, then this field will hold the
      relative URL for the party.

      This will only be available after the signing process has been started,
      and will only be visible when accessing the document as the author.
    type: string
    format: uri
example:
  {
    "id": "189256",
    "user_id": null,
    "is_author": false,
    "is_signatory": true,
    "fields": [
      {
        "type": "name",
        "order": 1,
        "value": "Magnus",
        "is_obligatory": true,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "name",
        "order": 2,
        "value": "SÃ¶derholm",
        "is_obligatory": true,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "email",
        "value": "noemail@scrive.com",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "mobile",
        "value": "",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "company",
        "value": "Scrive",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "company_number",
        "value": "",
        "is_obligatory": false,
        "should_be_filled_by_sender": false,
        "placements": []
      },
      {
        "type": "signature",
        "name": "Signature 1",
        "signature": "195174",
        "is_obligatory": true,
        "should_be_filled_by_sender": false,
        "placements": [
          {
            "xrel": 0.07894736842105263,
            "yrel": 0.09962825278810408,
            "wrel": 0.2736842105263158,
            "hrel": 0.0758364312267658,
            "fsrel": 0.0168,
            "page": 1,
            "tip": "right",
            "anchors": []
          }
        ]
      }
    ],
    "sign_order": 1,
    "sign_time": "2017-01-13T10:38:49.590815Z",
    "seen_time": "2017-01-13T10:38:33.1783Z",
    "read_invitation_time": null,
    "rejected_time": null,
    "sign_success_redirect_url": null,
    "reject_redirect_url": null,
    "email_delivery_status": "unknown",
    "mobile_delivery_status": "unknown",
    "has_authenticated_to_view": false,
    "csv": null,
    "delivery_method": "pad",
    "authentication_method_to_view": "standard",
    "authentication_method_to_sign": "standard",
    "confirmation_delivery_method": "none",
    "allows_highlighting": true,
    "attachments": [],
    "highlighted_pages": [
      {
        "page": 1,
        "file_id": "195173"
      }
    ],
    "api_delivery_url": null
  }
