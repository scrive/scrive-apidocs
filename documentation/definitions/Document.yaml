---
$schema: "http://json-schema.org/draft-04/schema#"
title: Document
type: object
description: |
 Defines the entire structure of a document to be signed, including the
 parties, the processes to follow, etc.
 It is a core data structure used throughout the Scrive Document API.
properties:
  id:
    description: |
      **Unique identifier for a document.**

      Will not change over time, and cannot be changed.
    type: string
    readOnly: true
  title:
    type: string
    description: |
      **The title of the document.**

      Can be modified while a document is in preparation.
      The title will be used in messages sent to the document’s parties.
  parties:
    type: array
    items:
      $ref: ./Signatory.yaml
    description: |
      **List of signing and viewing parties.**

      Defines their details, how the document is delivered to them, what
      authentication method they must use, fields they must fill, fields placed
      on the PDF, etc.
  file:
    $ref: ./File.yaml
    description: |
      **The document’s main file.**

      Can be `null` while a document is in preparation, but needs a file before
      the signing process can start.
  sealed_file:
    $ref: ./File.yaml
    description: |
      **The cryptographically sealed file.**

      Will only exist for documents that have been closed.
      This field may be `null` for a short period of time after a document has
      been signed by all parties, while the Scrive eSign system seals the
      document.
  author_attachments:
    description: |
      **List of author attachments.**

      Can be updated during document preparation using the "set author
      attachments" (`/{document_id}/setattachments`) API call.
    type: array
    items:
      type: object
      properties:
        name:
          type: string
          readOnly: true
        required:
          type: boolean
          readOnly: true
        add_to_sealed_file:
          type: boolean
          readOnly: true
        file_id:
          type: string
    readOnly: true
  ctime:
    description: Time at which the document was created.
    type: string
    format: date-time
    readOnly: true
  mtime:
    description: Latest time at which the document was modified.
    type: string
    format: date-time
    readOnly: true
  timeout_time:
    description: |
      Time after which the document will timeout if it has not been signed.
    type: string
    format: date-time
    readOnly: true
  auto_remind_time:
    type: string
    format: date-time
    readOnly: true
  status:
    $ref: ./DocumentStatus.yaml
  days_to_sign:
    type: integer
    default: 90
  days_to_remind:
    type: integer
  display_options:
    type: object
    properties:
      show_header:
        type: boolean
        description: |
          Whether to show the Scrive header on the signing page.
      show_pdf_download:
        type: boolean
        description: |
          Whether to show an option to download the PDF on the signing page.
      show_reject_option:
        type: boolean
        description: |
          Whether to allow signatories to reject a document.
      allow_reject_reason:
        type: boolean
        description: |
          Whether to allow signatories to enter a plain text reason for
          rejecting a document.
      show_footer:
        description: |
          Whether to show the Scrive footer on the signing page.
        type: boolean
  invitation_message:
    description: |
      The invitation message to send to all parties at the start of the signing
      process.

      Default is blank.
    type: string
    default: ""
  confirmation_message:
    description: |
      The confirmation message to send to all parties once the document has
      been signed.

      Default is blank.
    type: string
    default: ""
  lang:
    $ref: ./LanguageCode.yaml
  api_callback_url:
    description: |
      The URL to perform an API callback request.

      Please see [Callbacks](#callbacks) for details.
    type: string
    format: uri
  object_version:
    description: |
      The document object version is auto-incremented by the Scrive eSign
      system each time an action is performed on it.

      Therefore this can be used as a rudimentary synchronisation mechanism to
      ensure you are handling a document that has not changed.

      It is not recommended to use this field unless you are building an
      application with offline capabilities.
    type: integer
    readOnly: true
    minimum: 1
  access_token:
    type: string
    readOnly: true
  timezone:
    type: string
  tags:
    description: |
      **User defined set of names and values.**

      Can be used to manage categories of documents.
      The list API call can filter based on document tags.
    type: array
    default: []
    items:
      type: object
      properties:
        name:
          type: string
        value:
          type: string
  is_template:
    type: boolean
  is_saved:
    description: |
      A ‘saved’ document will appear in the E-archive.
    type: boolean
  is_shared:
    type: boolean
    readOnly: true
  is_trashed:
    type: boolean
    readOnly: true
  is_deleted:
    type: boolean
    readOnly: true
  viewer:
    type: object
    properties:
      role:
        type: string
        enum:
          - company_shared
          - company_admin
          - signatory
      signatory_id:
        type: string
example:
  {
    "id": "9179748218119260717",
    "title": "Untitled 2016-06-21 11:01",
    "parties": [
      {
        "id": "9220293573270366783",
        "user_id": "9206820953483508074",
        "is_author": true,
        "is_signatory": true,
        "fields": [
          {
            "type": "name",
            "order": 1,
            "value": "Magnus",
            "is_obligatory": true,
            "should_be_filled_by_sender": true,
            "placements": []
          },
          {
            "type": "name",
            "order": 2,
            "value": "Söderholm",
            "is_obligatory": true,
            "should_be_filled_by_sender": true,
            "placements": []
          },
          {
            "type": "email",
            "value": "noemail@scrive.com",
            "is_obligatory": true,
            "should_be_filled_by_sender": true,
            "placements": []
          },
          {
            "type": "company",
            "value": "",
            "is_obligatory": false,
            "should_be_filled_by_sender": false,
            "placements": []
          }
        ],
        "sign_order": 1,
        "sign_time": null,
        "seen_time": null,
        "read_invitation_time": null,
        "rejected_time": null,
        "sign_success_redirect_url": null,
        "reject_redirect_url": null,
        "email_delivery_status": "unknown",
        "mobile_delivery_status": "unknown",
        "has_authenticated_to_view": false,
        "csv": null,
        "delivery_method": "email",
        "authentication_method_to_view": "standard",
        "authentication_method_to_sign": "standard",
        "confirmation_delivery_method": "email",
        "attachments": [],
        "api_delivery_url": null
      },
      {
        "id": "98",
        "user_id": null,
        "is_author": false,
        "is_signatory": true,
        "fields": [
          {
            "type": "name",
            "order": 1,
            "value": "",
            "is_obligatory": false,
            "should_be_filled_by_sender": false,
            "placements": []
          },
          {
            "type": "name",
            "order": 2,
            "value": "",
            "is_obligatory": false,
            "should_be_filled_by_sender": false,
            "placements": []
          },
          {
            "type": "email",
            "value": "",
            "is_obligatory": true,
            "should_be_filled_by_sender": false,
            "placements": []
          },
          {
            "type": "mobile",
            "value": "",
            "is_obligatory": false,
            "should_be_filled_by_sender": false,
            "placements": []
          },
          {
            "type": "company",
            "value": "",
            "is_obligatory": false,
            "should_be_filled_by_sender": false,
            "placements": []
          },
          {
            "type": "company_number",
            "value": "",
            "is_obligatory": false,
            "should_be_filled_by_sender": false,
            "placements": []
          }
        ],
        "sign_order": 1,
        "sign_time": null,
        "seen_time": null,
        "read_invitation_time": null,
        "rejected_time": null,
        "sign_success_redirect_url": null,
        "reject_redirect_url": null,
        "email_delivery_status": "unknown",
        "mobile_delivery_status": "unknown",
        "has_authenticated_to_view": false,
        "csv": null,
        "delivery_method": "email",
        "authentication_method_to_view": "standard",
        "authentication_method_to_sign": "standard",
        "confirmation_delivery_method": "email",
        "allows_highlighting": false,
        "attachments": [],
        "highlighted_pages": [],
        "api_delivery_url": null
      }
    ],
    "file": null,
    "sealed_file": null,
    "author_attachments": [],
    "ctime": "2016-06-21T11:01:16.505271Z",
    "mtime": "2016-06-21T11:01:16.505271Z",
    "timeout_time": null,
    "auto_remind_time": null,
    "status": "preparation",
    "days_to_sign": 90,
    "days_to_remind": null,
    "display_options": {
      "show_header": true,
      "show_pdf_download": true,
      "show_reject_option": true,
      "allow_reject_reason": true,
      "show_footer": true
    },
    "invitation_message": "",
    "confirmation_message": "",
    "lang": "en",
    "api_callback_url": null,
    "object_version": 0,
    "access_token": "b5e6bf0eae8bb383",
    "timezone": "Europe/Stockholm",
    "tags": [],
    "is_template": false,
    "is_saved": false,
    "is_shared": false,
    "is_trashed": false,
    "is_deleted": false,
    "viewer": {
      "signatory_id": "9220293573270366783",
      "role": "signatory"
    }
  }
